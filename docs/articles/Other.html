<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Other Features / Common Questions • RFishBC</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Other Features / Common Questions">
<meta property="og:description" content="RFishBC">
<meta property="og:image" content="https://fishr-core-team.github.io/RFishBC/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RFishBC</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.7</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/BCIntro.html">Short Introduction</a>
    </li>
    <li>
      <a href="../articles/collectRadiiData.html">Collect Radii Data</a>
    </li>
    <li>
      <a href="../articles/seeRadiiData.html">Visualize Radii Data</a>
    </li>
    <li>
      <a href="../articles/BCCalc.html">Back-Calculating Lengths</a>
    </li>
    <li>
      <a href="../articles/BCWorkflow.html">Suggested Workflow</a>
    </li>
    <li>
      <a href="../articles/Other.html">Other Features</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-2x"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/fishR-Core-Team/RFishBC" class="external-link">
    <span class="fa fa-github fa-2x"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Other Features / Common Questions</h1>
                        <h4 data-toc-skip class="author">Derek H.
Ogle</h4>
            
            <h4 data-toc-skip class="date">2023-12-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/fishR-Core-Team/RFishBC/blob/HEAD/vignettes/Other.Rmd" class="external-link"><code>vignettes/Other.Rmd</code></a></small>
      <div class="hidden name"><code>Other.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="collect-just-age-data">Collect Just Age Data<a class="anchor" aria-label="anchor" href="#collect-just-age-data"></a>
</h2>
<p>Some researchers would like to use RFishBC to collect age data only
without any concern for measurements on the image for the purposes of
back-calculation. RFishBC will record measurements on the structure but
these measurements can ultimately be ignored if you simply want to have
a data.frame of estimated ages. This is demonstrated below using a few
functions from the <code>dplyr</code> package.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://fishr-core-team.github.io/RFishBC/">RFishBC</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<p>This example also uses the “DHO” readings of “Scale_1.jpg”,
“Scale_2.jpg”, and “Scale_3.jpg” demonstrated in the <a href="collectRadiiData.html#multiplestructures">Combine Data from
Multiple Structures section of the Collecting Radial Measurements</a>
vignette. These readings are put into a list using
<code><a href="../reference/listFiles.html">listFiles()</a></code> and their data are combined into a
<strong>WIDE</strong> format data.frame below (as described in <a href="collectRadiiData.html#multiplestructures">the Collecting Radial
Measurements</a> vignette).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">fns</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listFiles.html">listFiles</a></span><span class="op">(</span><span class="st">"rds"</span>,other<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Scale"</span>,<span class="st">"DHO"</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Scale_1_DHO.rds" "Scale_2_DHO.rds" "Scale_3_DHO.rds"</span></span>
<span><span class="op">(</span> <span class="va">dfrad2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="va">fns</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4      rad5</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.2893299 0.3259383 0.4626601 0.5017862</span></span>
<span><span class="co">#&gt; 2  2     DHO      4 0.3908662 0.1377625 0.2236611 0.3026716 0.3530492        NA</span></span>
<span><span class="co">#&gt; 3  3     DHO      1 0.5202232 0.5202232        NA        NA        NA        NA</span></span></code></pre></div>
<p>A data.frame of just ages is created from this data.frame by removing
all variables that contain the word “rad” using <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code>
from <code>dplyr</code>. The <code><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select()</a></code> function requires the
original data.frame as its first argument and then directions on
variables to select as the ensuing arguments. There are several ways to
get the required data.frame with these simple data as shown below – one
can select variables individually, select contiguous variables, or
deselect (negative sign) variables that contain the word “rad”.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">dfrad2ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">dfrad2</span>,<span class="va">id</span>,<span class="va">reading</span>,<span class="va">agecap</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap</span></span>
<span><span class="co">#&gt; 1  1     DHO      5</span></span>
<span><span class="co">#&gt; 2  2     DHO      4</span></span>
<span><span class="co">#&gt; 3  3     DHO      1</span></span>
<span><span class="op">(</span> <span class="va">dfrad2ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">dfrad2</span>,<span class="va">id</span><span class="op">:</span><span class="va">agecap</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap</span></span>
<span><span class="co">#&gt; 1  1     DHO      5</span></span>
<span><span class="co">#&gt; 2  2     DHO      4</span></span>
<span><span class="co">#&gt; 3  3     DHO      1</span></span>
<span><span class="op">(</span> <span class="va">dfrad2ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">dfrad2</span>,<span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">contains</a></span><span class="op">(</span><span class="st">"rad"</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap</span></span>
<span><span class="co">#&gt; 1  1     DHO      5</span></span>
<span><span class="co">#&gt; 2  2     DHO      4</span></span>
<span><span class="co">#&gt; 3  3     DHO      1</span></span></code></pre></div>
<p>The <code>agecap</code> variable can be renamed with
<code><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename()</a></code> from <code>dplyr</code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">dfrad2ages</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span><span class="va">dfrad2ages</span>,age<span class="op">=</span><span class="va">agecap</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;   id reading age</span></span>
<span><span class="co">#&gt; 1  1     DHO   5</span></span>
<span><span class="co">#&gt; 2  2     DHO   4</span></span>
<span><span class="co">#&gt; 3  3     DHO   1</span></span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div class="section level2">
<h2 id="curved-growth-trajectories">Curved Growth Trajectories<a class="anchor" aria-label="anchor" href="#curved-growth-trajectories"></a>
</h2>
<p>Some structures, especially otoliths, often have “growth
trajectories” on which the user wants to mark annuli that are nonlinear.
In these instances, the use of a linear transect is inappropriate.
RFishBC can handle such circumstances by using
<code>makeTransect=FALSE</code> in <code><a href="../reference/digitizeRadii.html">digitizeRadii()</a></code>. When
using <code>makeTransect=FALSE</code> the user will not select a
transect as shown in the <a href="collectRadiiData.html">Collecting
Radial Measurements</a> vignette. The user will instead be prompted to
successively mark the structure center, annuli, and structure
margin.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/digitizeRadii.html">digitizeRadii</a></span><span class="op">(</span><span class="st">"DWS_Oto_89765.jpg"</span>,id<span class="op">=</span><span class="fl">89765</span>,reading<span class="op">=</span><span class="st">"DHO"</span>,edgeIsAnnulus<span class="op">=</span><span class="cn">TRUE</span>,</span>
<span>              makeTransect<span class="op">=</span><span class="cn">FALSE</span>,windowSize<span class="op">=</span><span class="fl">10</span><span class="op">)</span></span></code></pre></div>
<p>The results can be seen with <code><a href="../reference/showDigitizedImage.html">showDigitizedImage()</a></code> as
described in the <a href="seeRadiiData.html">Visualize Radial Data</a>
vignette.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/showDigitizedImage.html">showDigitizedImage</a></span><span class="op">(</span><span class="st">"DWS_Oto_89765_DHO.rds"</span>,</span>
<span>                   annuliLabels<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>,<span class="fl">10</span>,<span class="fl">12</span>,<span class="fl">14</span>,<span class="fl">17</span><span class="op">)</span>,cex.ann<span class="op">=</span><span class="fl">0.8</span><span class="op">)</span></span></code></pre></div>
<p><img src="DWS_Oto_89765_A.jpg"></p>
<p> </p>
<p>RFishBC calculates radii as the cumulative sum of the annular
increments rather than the distance from the structure center to the
annuli. These radii or increments can be extracted as described in the
<a href="collectRadiiData.html">Collecting Radial Measurements</a>
vignette.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="st">"DWS_Oto_89765_DHO.rds"</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      id reading agecap  radcap      rad1      rad2      rad3      rad4</span></span>
<span><span class="co">#&gt; 1 89765     DHO     19 1.52889 0.1609664 0.4130613 0.6681783 0.7902489</span></span>
<span><span class="co">#&gt;        rad5      rad6     rad7     rad8     rad9    rad10    rad11    rad12</span></span>
<span><span class="co">#&gt; 1 0.9018444 0.9340365 1.014203 1.099765 1.159114 1.229457 1.258141 1.298337</span></span>
<span><span class="co">#&gt;      rad13    rad14    rad15    rad16    rad17    rad18   rad19</span></span>
<span><span class="co">#&gt; 1 1.344228 1.372911 1.411179 1.442248 1.477615 1.511827 1.52889</span></span>
<span><span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="st">"DWS_Oto_89765_DHO.rds"</span>,formatOut<span class="op">=</span><span class="st">"wide"</span>,typeOut<span class="op">=</span><span class="st">"inc"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      id reading agecap  radcap      inc1      inc2     inc3      inc4      inc5</span></span>
<span><span class="co">#&gt; 1 89765     DHO     19 1.52889 0.1609664 0.2520949 0.255117 0.1220706 0.1115955</span></span>
<span><span class="co">#&gt;         inc6       inc7       inc8       inc9      inc10      inc11      inc12</span></span>
<span><span class="co">#&gt; 1 0.03219214 0.08016677 0.08556216 0.05934844 0.07034342 0.02868355 0.04019624</span></span>
<span><span class="co">#&gt;        inc13      inc14      inc15     inc16      inc17      inc18      inc19</span></span>
<span><span class="co">#&gt; 1 0.04589046 0.02868355 0.03826742 0.0310698 0.03536676 0.03421178 0.01706312</span></span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div class="section level2">
<h2 id="extract-increments-rather-than-radii">Extract Increments Rather than Radii<a class="anchor" aria-label="anchor" href="#extract-increments-rather-than-radii"></a>
</h2>
<p>As noted in the <a href="BCIntro.html">Introduction to
Back-calculation</a> vignette, radial measurements are the distance from
the structure center to the annulus.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> In some instances, the user may desire
incremental rather than radial measurements. Incremental measurements
are the distances between successive annuli, with the first increment
being the distance from the structure center to the first annulus.
Increments may be extracted from the data stored in the R data file with
<code><a href="../reference/combineData.html">combineData()</a></code> using <code>typeOut="inc"</code>. For
example, the radial and incremental measurements for the “DHO” reading
of “Scale_1.jpg” in wide format are shown below.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="st">"Scale_1_DHO.rds"</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4      rad5</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.2893299 0.3259383 0.4626601 0.5017862</span></span>
<span><span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="st">"Scale_1_DHO.rds"</span>,typeOut<span class="op">=</span><span class="st">"inc"</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      inc1       inc2       inc3      inc4</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.06846078 0.03660836 0.1367218</span></span>
<span><span class="co">#&gt;         inc5</span></span>
<span><span class="co">#&gt; 1 0.03912615</span></span></code></pre></div>
<p>Of course, increments from several sets of measurements may also be
extracted (note that the list of R data files in <code>fns</code> was
created <a href="l#collect-just-age-data">above</a>)</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="va">fns</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4      rad5</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.2893299 0.3259383 0.4626601 0.5017862</span></span>
<span><span class="co">#&gt; 2  2     DHO      4 0.3908662 0.1377625 0.2236611 0.3026716 0.3530492        NA</span></span>
<span><span class="co">#&gt; 3  3     DHO      1 0.5202232 0.5202232        NA        NA        NA        NA</span></span>
<span><span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="va">fns</span>,typeOut<span class="op">=</span><span class="st">"inc"</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      inc1       inc2       inc3       inc4</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.06846078 0.03660836 0.13672182</span></span>
<span><span class="co">#&gt; 2  2     DHO      4 0.3908662 0.1377625 0.08589861 0.07901049 0.05037762</span></span>
<span><span class="co">#&gt; 3  3     DHO      1 0.5202232 0.5202232         NA         NA         NA</span></span>
<span><span class="co">#&gt;         inc5</span></span>
<span><span class="co">#&gt; 1 0.03912615</span></span>
<span><span class="co">#&gt; 2         NA</span></span>
<span><span class="co">#&gt; 3         NA</span></span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div class="section level2">
<h2 id="using-flagging-notes">Using “Flagging” Notes<a class="anchor" aria-label="anchor" href="#using-flagging-notes"></a>
</h2>
<p>A user may want to include a “flagging note” for a particular reading
in the corresponding R Data file. These notes may be used, for example,
to indicate that the reading was particularly difficult, needs to be
reviewed, or needs to be re-read. As of version 0.2.1, notes may be
added to the <code>note</code> object in the R Data files in two
ways.</p>
<p>First, a note may be added to an already saved R Data file with
<code><a href="../reference/addNote.html">addNote()</a></code>. If no arguments are included in this function
then the user will be prompted to choose the existing R Data file and
then to enter the note. If the R Data file previously had a note then
that note will be over-written with the new note. The user may also
supply the name of the R Data file as the first argument and the note as
the second argument to <code><a href="../reference/addNote.html">addNote()</a></code>. For example, the
following code would add a simple note to the “Scale_1_DHO.rds”
file.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/addNote.html">addNote</a></span><span class="op">(</span><span class="st">"Scale_1_DHO.rds"</span>,<span class="st">"3rd annulus location was difficult"</span><span class="op">)</span></span></code></pre></div>
<p>Second, a note may be added before the R Data file is written by
including <code>addNote=TRUE</code> to <code><a href="../reference/digitizeRadii.html">digitizeRadii()</a></code>. The
note may be provided before processing the image by including the note
in <code>note=</code> in <code><a href="../reference/digitizeRadii.html">digitizeRadii()</a></code>. However, the user
is more likely to not have a note about the reading of the image until
after the image has been read. If no note is given in <code>note=</code>
(the default behavior) then the user will be prompted to enter a note
after the image has been read but before the R Data file is written.
This option may be set for the session with <code><a href="../reference/RFBCoptions.html">RFBCoptions()</a></code>
(as demonstrated in the <a href="collectRadiiData.html">Collecting
Radial Measurements</a> vignette). For example, the following code would
result in the dialog box shown below.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RFBCoptions.html">RFBCoptions</a></span><span class="op">(</span>reading<span class="op">=</span><span class="st">"DHO"</span>,edgeIsAnnulus<span class="op">=</span><span class="cn">FALSE</span>,windowSize<span class="op">=</span><span class="fl">10</span>,addNote<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/digitizeRadii.html">digitizeRadii</a></span><span class="op">(</span><span class="st">"Scale_1.jpg"</span>,id<span class="op">=</span><span class="st">"1"</span><span class="op">)</span></span></code></pre></div>
<p><img src="Scale_1_D.jpg"></p>
<p>The notes for a list of R Data file names may be found with
<code><a href="../reference/findNotes.html">findNotes()</a></code>. The first argument to this function can be a
vector of R Data file names in the current working directory. If this
argument is missing, then the user will be prompted to choose R Data
files from a dialog box. For example, the following code returns the
list of notes for all fish ids and readings in the current working
directory (note that the second file listed is not a valid file, so it
was excluded from the vector given to <code><a href="../reference/findNotes.html">findNotes()</a></code>).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listFiles.html">listFiles</a></span><span class="op">(</span><span class="st">".rds"</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "DWS_Oto_89765_DHO.rds"  "Oto140306_DHO.rds"      "Oto140306_OHD.rds"     </span></span>
<span><span class="co">#&gt; [4] "Scale_1_DHO.rds"        "Scale_1_ODH.rds"        "Scale_1_OHD.rds"       </span></span>
<span><span class="co">#&gt; [7] "Scale_2_DHO.rds"        "Scale_2_OLDwNoNote.rds" "Scale_3_DHO.rds"</span></span>
<span><span class="fu"><a href="../reference/findNotes.html">findNotes</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt;       id reading                               note</span></span>
<span><span class="co">#&gt; 1  89765     DHO                                   </span></span>
<span><span class="co">#&gt; 2 140306     OHD                                   </span></span>
<span><span class="co">#&gt; 3      1     DHO 3rd annulus location was difficult</span></span>
<span><span class="co">#&gt; 4      1     ODH              Test note as argument</span></span>
<span><span class="co">#&gt; 5      1     OHD             Test not as dialog box</span></span>
<span><span class="co">#&gt; 6      2     DHO                                   </span></span>
<span><span class="co">#&gt; 7      2     DHO                                   </span></span>
<span><span class="co">#&gt; 8      3     DHO</span></span></code></pre></div>
<p>The results from <code><a href="../reference/findNotes.html">findNotes()</a></code> is a vector that can be
manipulated. For example, the following shows the list for only those
ids and readings for which a note was made.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">notes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/findNotes.html">findNotes</a></span><span class="op">(</span><span class="va">tmp</span><span class="op">[</span><span class="op">-</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">notes</span>,<span class="va">note</span><span class="op">!=</span><span class="st">""</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id reading                               note</span></span>
<span><span class="co">#&gt; 1  1     DHO 3rd annulus location was difficult</span></span>
<span><span class="co">#&gt; 2  1     ODH              Test note as argument</span></span>
<span><span class="co">#&gt; 3  1     OHD             Test not as dialog box</span></span></code></pre></div>
<p>Additionally, one can append the notes to the radial (or incremental)
measurements returned from <code><a href="../reference/combineData.html">combineData()</a></code> (e.g., <a href="l#collect-just-age-data">as shown above</a>) using
<code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join()</a></code> from <code>dplyr</code> as shown below.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span> <span class="va">fns</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/listFiles.html">listFiles</a></span><span class="op">(</span><span class="st">"rds"</span>,other<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Scale"</span>,<span class="st">"DHO"</span><span class="op">)</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt; [1] "Scale_1_DHO.rds" "Scale_2_DHO.rds" "Scale_3_DHO.rds"</span></span>
<span><span class="op">(</span> <span class="va">dfrad2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/combineData.html">combineData</a></span><span class="op">(</span><span class="va">fns</span>,formatOut<span class="op">=</span><span class="st">"wide"</span><span class="op">)</span> <span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4      rad5</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.2893299 0.3259383 0.4626601 0.5017862</span></span>
<span><span class="co">#&gt; 2  2     DHO      4 0.3908662 0.1377625 0.2236611 0.3026716 0.3530492        NA</span></span>
<span><span class="co">#&gt; 3  3     DHO      1 0.5202232 0.5202232        NA        NA        NA        NA</span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">dfrad2</span>,<span class="va">notes</span>,by<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"id"</span>,<span class="st">"reading"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id reading agecap    radcap      rad1      rad2      rad3      rad4      rad5</span></span>
<span><span class="co">#&gt; 1  1     DHO      5 0.5163737 0.2208691 0.2893299 0.3259383 0.4626601 0.5017862</span></span>
<span><span class="co">#&gt; 2  2     DHO      4 0.3908662 0.1377625 0.2236611 0.3026716 0.3530492        NA</span></span>
<span><span class="co">#&gt; 3  2     DHO      4 0.3908662 0.1377625 0.2236611 0.3026716 0.3530492        NA</span></span>
<span><span class="co">#&gt; 4  3     DHO      1 0.5202232 0.5202232        NA        NA        NA        NA</span></span>
<span><span class="co">#&gt;                                 note</span></span>
<span><span class="co">#&gt; 1 3rd annulus location was difficult</span></span>
<span><span class="co">#&gt; 2                                   </span></span>
<span><span class="co">#&gt; 3                                   </span></span>
<span><span class="co">#&gt; 4</span></span></code></pre></div>
<p> </p>
<p> </p>
</div>
<div class="section level2">
<h2 id="footnotes">Footnotes<a class="anchor" aria-label="anchor" href="#footnotes"></a>
</h2>
</div>
<div class="footnotes footnotes-end-of-document">
<hr>
<ol>
<li id="fn1"><p>Note that with <a href="#curved-growth-trajectories">curved growth trajectories</a>,
radial measurements are the cumulative sum of the distances between
annuli with the first distance being from the structure center to the
first annulus.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="http://derekogle.com" class="external-link">Derek H. Ogle</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
